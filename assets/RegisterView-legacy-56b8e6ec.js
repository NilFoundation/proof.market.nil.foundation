System.register(["./index-legacy-ce80b539.js","./AuthCard-legacy-46c4e026.js"],(function(e,s){"use strict";var a,r,t,i,n,c,l,o,d,u,h,m,f,g,b,p,N,w,y,v,x,R,S,k,C,E,A;return{setters:[e=>{a=e.r,r=e.o,t=e.b6,i=e.aX,n=e.b7,c=e.b8,l=e.aV,o=e.a4,d=e.b9,u=e.p,h=e.v,m=e.b0,f=e.ba,g=e.b1,b=e.aU,p=e.al,N=e.b2,w=e.b3,y=e.aS,v=e.w,x=e.bb,R=e.bc,S=e.b4,k=e.bd,C=e.F,E=e.W},e=>{A=e.A}],execute:function(){const s=()=>{const[e,s]=a.useState(),[C,E]=a.useState(!0),{state:M}=r(),[q,z]=a.useState("password"),L="password"===q?"fa-eye-slash":"fa-eye",$=a.useRef(null),j=a.useRef(null),B=a.useRef(null),F=t(),{handleSubmit:G,watch:O,register:U,formState:{isSubmitting:V,errors:W,isValid:D,dirtyFields:H}}=i({mode:"onChange"}),J=G((async e=>{s("");try{await n(e),c?.create({title:"Registration success",message:`Successfully register new user ${e.user}`,variant:l.success}),F(o.login,{state:M})}catch(a){s(a?.response?.data?.errorMessage??"Register error")}}));a.useEffect((()=>{B.current&&B.current.focus()}),[]);const{ref:P,...T}=U("user",{required:!0,minLength:3,maxLength:30}),X=a.useMemo((()=>!!H.user),[H.user]),I=a.useMemo((()=>!!H.passwd),[H.passwd]),K=a.useRef(d((async e=>{if(e)try{await k(e),E(!1)}catch(s){404===s?.response?.status&&E(!0)}}),180)).current,Q=O("user");return a.useEffect((()=>{K(Q)}),[Q,K]),u(A,{children:h(m,{className:f.form,children:[h("div",{children:[u("h4",{className:f.title,children:"Welcome to Proof Market!"}),u("div",{className:`${f.heading} text-muted`,children:"Create new account"}),h(m.Group,{hasError:!!W.user||!C,children:[h(g,{size:b.lg,className:f.control,children:[u(g.Addon,{children:u(p,{iconName:"fa-solid fa-user",className:f.icon})}),u(N,{type:"text",id:"userName",placeholder:"username","aria-label":"username",ref:e=>{P(e),B.current=e},...T})]}),!C&&u(m.Hint,{children:"Username should be unique"})]}),u(w,{classNames:"fade",timeout:300,in:X,unmountOnExit:!0,nodeRef:$,children:u("div",{ref:$,children:u(m.Group,{hasError:!!W.passwd,children:h(g,{size:b.lg,className:f.control,children:[u(g.Addon,{children:u(p,{iconName:"fa-solid fa-lock",className:f.icon})}),u(N,{type:q,id:"password",placeholder:"password","aria-label":"password",autoComplete:"off",...U("passwd",{required:!0,maxLength:30})}),u(g.Buttons,{children:u(y,{onClick:()=>z("password"===q?"text":"password"),children:u(p,{iconName:`fa-solid ${L}`,className:f.icon})})})]})})})}),u(w,{classNames:"fade",timeout:300,in:I,unmountOnExit:!0,nodeRef:j,children:u("div",{ref:j,children:h(y,{block:!0,variant:l.success,size:b.lg,disabled:V||!D||!C,onClick:J,children:["Register",V&&u(v,{})]})})}),e&&u("div",{className:"errorMessage",children:e})]}),h("div",{className:f.bottomBlock,children:[h("div",{className:f.social,children:[u("h5",{className:f.title,children:"Join our Discord's proof-market channel/Telegram for questions/to stay updated"}),u(x,{socialLinks:R})]}),u("h5",{className:"text-center text-muted",children:"Already have an account? "}),u(S,{to:o.login,state:M,children:u(y,{block:!0,variant:l.success,size:b.lg,children:"Sign in"})})]})]})})};e("default",(()=>h(C,{children:[u(E,{children:u("title",{children:"Register"})}),u(s,{})]})))}}}));
