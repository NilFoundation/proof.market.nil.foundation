System.register(["./index-legacy-9608b243.js","./AuthCard-legacy-0f9008b9.js"],(function(e,a){"use strict";var r,s,n,o,c,i,l,t,d,u,m,h,g,f,p,b,N,w,S,y,v,x,C,k,E,L;return{setters:[e=>{r=e.aS,s=e.v,n=e.aT,o=e.aU,c=e.aV,i=e.aW,l=e.p,t=e.am,d=e.r,u=e.o,m=e.aX,h=e.aY,g=e.aZ,f=e.a_,p=e.a$,b=e.b0,N=e.b1,w=e.b2,S=e.b3,y=e.ai,v=e.b4,x=e.b5,C=e.a4,k=e.F,E=e.W},e=>{L=e.A}],execute:function(){const a=({onError:e,onSuccess:a,className:d,...u})=>{const m=r({onSuccess:e=>{a&&a(e)},onError:a=>{e&&e(a)}});return s(n,{className:`${o.button} ${d??""}`,onClick:()=>m(),size:c.lg,variant:i.primary,...u,children:[l(t,{iconName:"fa-brands fa-google"}),"Google"]})},z=()=>{const e=d.useRef(null),r=d.useRef(null),{state:o}=u(),k=m(o?.from),[E,z]=d.useState(),[A,$]=d.useState("password"),j="password"===A?"fa-eye-slash":"fa-eye",{register:G,formState:{isSubmitting:R,isValid:F,errors:V},handleSubmit:W}=h({mode:"onChange"}),q=W((async e=>{z("");try{const{jwt:a}=await g(e);await k(a,f.credentials)}catch(a){z("Login error")}}));d.useEffect((()=>{r.current&&r.current.focus()}),[]);const{ref:B,...D}=G("username",{required:!0}),I=d.useCallback((e=>{k(e,f.google,(()=>z("Login error")))}),[k]),M=d.useCallback((()=>z("Login error")),[]);return s(L,{children:[l(p,{source:"/logo512x384.png",alt:"=nil; Foundation logo",responsive:!0,rounded:!0,className:b.logoImage}),s(N,{children:[l(N.Group,{hasError:!!V.username,children:s(w,{size:c.lg,className:b.control,children:[l(w.Addon,{children:l(t,{iconName:"fa-solid fa-user",className:b.icon})}),l(S,{type:"text",id:"userName",placeholder:"username","aria-label":"username",...D,ref:e=>{B(e),r.current=e}})]})}),l(N.Group,{hasError:!!V.password,children:s(w,{size:c.lg,className:b.control,children:[l(w.Addon,{children:l(t,{iconName:"fa-solid fa-lock",className:b.icon})}),l(S,{type:A,id:"password","aria-label":"password",placeholder:"password",autoComplete:"off",...G("password")}),l(w.Buttons,{children:l(n,{onClick:()=>$("password"===A?"text":"password"),children:l(t,{iconName:`fa-solid ${j}`,className:b.icon})})})]})}),s("div",{className:b.buttons,children:[s(n,{variant:i.success,size:c.lg,onClick:q,disabled:!F||R,children:["Login",R&&l(y,{})]}),l(a,{onSuccess:I,onError:M,disabled:R})]}),l(v,{classNames:"fade",timeout:300,in:!!E,unmountOnExit:!0,nodeRef:e,children:l("div",{ref:e,className:"errorMessage",children:E})}),l("h5",{className:"text-muted text-center",children:"Don't have an account? "}),l(x,{to:C.register,state:o,children:l(n,{block:!0,variant:i.success,size:c.lg,"data-sb":"submitLogin",children:"Sign up"})})]})]})};e("default",(()=>s(k,{children:[l(E,{children:l("title",{children:"Login"})}),l(z,{})]})))}}}));
