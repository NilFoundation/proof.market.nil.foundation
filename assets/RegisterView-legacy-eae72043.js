System.register(["./index-legacy-5edbbf2d.js","./AuthCard-legacy-407f30b2.js"],(function(e,s){"use strict";var a,r,t,n,i,c,l,o,d,u,h,m,f,g,p,b,N,w,y,v,x,R,S,k,E,C,A,M;return{setters:[e=>{a=e.r,r=e.o,t=e.b4,n=e.aS,i=e.b5,c=e.b6,l=e.b0,o=e.a3,d=e.aU,u=e.b7,h=e.p,m=e.v,f=e.aX,g=e.b8,p=e.aY,b=e.aZ,N=e.al,w=e.a_,y=e.b1,v=e.a$,x=e.ah,R=e.b9,S=e.ba,k=e.b2,E=e.bb,C=e.F,A=e.W},e=>{M=e.A}],execute:function(){const s=()=>{const[e,s]=a.useState(),[C,A]=a.useState(!0),{state:$}=r(),[q,z]=a.useState("password"),L="password"===q?"fa-eye-slash":"fa-eye",O=a.useRef(null),j=a.useRef(null),B=a.useRef(null),F=a.useRef(null),G=t(),{handleSubmit:U,watch:W,register:D,formState:{isSubmitting:H,errors:J,isValid:P,dirtyFields:T}}=n({mode:"onChange"}),V=U((async e=>{s("");try{await i(e),c?.create({title:"Registration success",message:`Successfully register new user ${e.user}`,variant:l.success}),G(o.login,{state:$})}catch(a){const e=await d(a);let r="Register error";e&&(r+=`: ${e}`),s(r)}}));a.useEffect((()=>{F.current&&F.current.focus()}),[]);const{ref:X,...Y}=D("user",{required:!0,minLength:3,maxLength:30}),Z=a.useMemo((()=>!!T.user),[T.user]),_=a.useMemo((()=>!!T.passwd),[T.passwd]),I=a.useRef(u((async e=>{if(e)try{await E(e),A(!1)}catch(s){404===s?.response?.status&&A(!0)}}),180)).current,K=W("user");return a.useEffect((()=>{I(K)}),[K,I]),h(M,{children:m(f,{className:g.form,children:[m("div",{children:[h("h4",{className:g.title,children:"Welcome to Proof Market!"}),h("div",{className:`${g.heading} text-muted`,children:"Create new account"}),m(f.Group,{hasError:!!J.user||!C,children:[m(p,{size:b.lg,className:g.control,children:[h(p.Addon,{children:h(N,{iconName:"fa-solid fa-user",className:g.icon})}),h(w,{type:"text",id:"userName",placeholder:"username","aria-label":"username",ref:e=>{X(e),F.current=e},...Y})]}),!C&&h(f.Hint,{children:"Username should be unique"})]}),h(y,{classNames:"fade",timeout:300,in:Z,unmountOnExit:!0,nodeRef:O,children:h("div",{ref:O,children:h(f.Group,{hasError:!!J.passwd,children:m(p,{size:b.lg,className:g.control,children:[h(p.Addon,{children:h(N,{iconName:"fa-solid fa-lock",className:g.icon})}),h(w,{type:q,id:"password",placeholder:"password","aria-label":"password",autoComplete:"off",...D("passwd",{required:!0,maxLength:30})}),h(p.Buttons,{children:h(v,{onClick:()=>z("password"===q?"text":"password"),children:h(N,{iconName:`fa-solid ${L}`,className:g.icon})})})]})})})}),h(y,{classNames:"fade",timeout:300,in:_,unmountOnExit:!0,nodeRef:j,children:h("div",{ref:j,children:m(v,{block:!0,variant:l.success,size:b.lg,disabled:H||!P||!C,onClick:V,children:["Register",H&&h(x,{})]})})}),h("div",{className:g.errorMsg,children:h(y,{in:!!e,timeout:300,nodeRef:B,unmountOnExit:!0,classNames:"fade",children:h("span",{ref:B,className:"errorMessage",children:e})})})]}),m("div",{className:g.bottomBlock,children:[m("div",{className:g.social,children:[h("h5",{className:g.title,children:"Join our Discord's proof-market channel/Telegram for questions/to stay updated"}),h(R,{socialLinks:S})]}),h("h5",{className:"text-center text-muted",children:"Already have an account? "}),h(k,{to:o.login,state:$,children:h(v,{block:!0,variant:l.success,size:b.lg,children:"Sign in"})})]})]})})};e("default",(()=>m(C,{children:[h(A,{children:h("title",{children:"Register"})}),h(s,{})]})))}}}));
