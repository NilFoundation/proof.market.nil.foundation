System.register(["./index-legacy-ce80b539.js","./AuthCard-legacy-46c4e026.js"],(function(e,a){"use strict";var r,s,n,o,c,l,i,t,d,u,m,h,g,f,p,b,N,w,S,y,v,x,C,k,E,L;return{setters:[e=>{r=e.aR,s=e.v,n=e.aS,o=e.aT,c=e.aU,l=e.aV,i=e.p,t=e.al,d=e.r,u=e.o,m=e.aW,h=e.aX,g=e.aY,f=e.aZ,p=e.a_,b=e.a$,N=e.b0,w=e.b1,S=e.b2,y=e.w,v=e.b3,x=e.b4,C=e.a4,k=e.F,E=e.W},e=>{L=e.A}],execute:function(){const a=({onError:e,onSuccess:a,className:d,...u})=>{const m=r({onSuccess:e=>{a&&a(e)},onError:a=>{e&&e(a)}});return s(n,{className:`${o.button} ${d??""}`,onClick:()=>m(),size:c.lg,variant:l.primary,...u,children:[i(t,{iconName:"fa-brands fa-google"}),"Google"]})},z=()=>{const e=d.useRef(null),r=d.useRef(null),{state:o}=u(),k=m(o?.from),[E,z]=d.useState(),[A,R]=d.useState("password"),$="password"===A?"fa-eye-slash":"fa-eye",{register:j,formState:{isSubmitting:G,isValid:F,errors:V},handleSubmit:W}=h({mode:"onChange"}),q=W((async e=>{z("");try{const{jwt:a}=await g(e);await k(a,f.credentials)}catch(a){z("Login error")}}));d.useEffect((()=>{r.current&&r.current.focus()}),[]);const{ref:B,...D}=j("username",{required:!0}),I=d.useCallback((e=>{k(e,f.google,(()=>z("Login error")))}),[k]),M=d.useCallback((()=>z("Login error")),[]);return s(L,{children:[i(p,{source:"/logo512x384.png",alt:"=nil; Foundation logo",responsive:!0,rounded:!0,className:b.logoImage}),s(N,{children:[i(N.Group,{hasError:!!V.username,children:s(w,{size:c.lg,className:b.control,children:[i(w.Addon,{children:i(t,{iconName:"fa-solid fa-user",className:b.icon})}),i(S,{type:"text",id:"userName",placeholder:"username","aria-label":"username",...D,ref:e=>{B(e),r.current=e}})]})}),i(N.Group,{hasError:!!V.password,children:s(w,{size:c.lg,className:b.control,children:[i(w.Addon,{children:i(t,{iconName:"fa-solid fa-lock",className:b.icon})}),i(S,{type:A,id:"password","aria-label":"password",placeholder:"password",autoComplete:"off",...j("password")}),i(w.Buttons,{children:i(n,{onClick:()=>R("password"===A?"text":"password"),children:i(t,{iconName:`fa-solid ${$}`,className:b.icon})})})]})}),s("div",{className:b.buttons,children:[s(n,{variant:l.success,size:c.lg,onClick:q,disabled:!F||G,children:["Login",G&&i(y,{})]}),i(a,{onSuccess:I,onError:M,disabled:G})]}),i(v,{classNames:"fade",timeout:300,in:!!E,unmountOnExit:!0,nodeRef:e,children:i("div",{ref:e,className:"errorMessage",children:E})}),i("h5",{className:"text-muted text-center",children:"Don't have an account? "}),i(x,{to:C.register,state:o,children:i(n,{block:!0,variant:l.success,size:c.lg,"data-sb":"submitLogin",children:"Sign up"})})]})]})};e("default",(()=>s(k,{children:[i(E,{children:i("title",{children:"Login"})}),i(z,{})]})))}}}));
