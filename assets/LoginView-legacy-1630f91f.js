System.register(["./index-legacy-5edbbf2d.js","./AuthCard-legacy-407f30b2.js"],(function(e,a){"use strict";var s,r,n,o,t,i,c,l,d,u,h,m,f,g,p,N,w,b,y,v,x,S,k,C;return{setters:[e=>{s=e.r,r=e.o,n=e.aR,o=e.aS,t=e.aT,i=e.aU,c=e.v,l=e.p,d=e.aV,u=e.aW,h=e.aX,m=e.aY,f=e.aZ,g=e.al,p=e.a_,N=e.a$,w=e.b0,b=e.ah,y=e.b1,v=e.b2,x=e.a3,S=e.F,k=e.W},e=>{C=e.A}],execute:function(){const a=()=>{const e=s.useRef(null),a=s.useRef(null),{state:S}=r(),k=n(S?.from),[z,A]=s.useState(),[E,L]=s.useState("password"),R="password"===E?"fa-eye-slash":"fa-eye",{register:j,formState:{isSubmitting:$,isValid:F,errors:G},handleSubmit:M}=o({mode:"onChange"}),V=M((async e=>{A("");try{const{jwt:a}=await t(e);await k(a)}catch(a){const e=await i(a);let s="Login error";e&&(s+=`: ${e}`),A(s)}}));s.useEffect((()=>{a.current&&a.current.focus()}),[]);const{ref:W,...q}=j("username",{required:!0});return c(C,{children:[l(d,{source:"/logo512x384.png",alt:"=nil; Foundation logo",responsive:!0,rounded:!0,className:u.logoImage}),c(h,{children:[l(h.Group,{hasError:!!G.username,children:c(m,{size:f.lg,className:u.control,children:[l(m.Addon,{children:l(g,{iconName:"fa-solid fa-user",className:u.icon})}),l(p,{type:"text",id:"userName",placeholder:"username","aria-label":"username",...q,ref:e=>{W(e),a.current=e}})]})}),l(h.Group,{hasError:!!G.password,children:c(m,{size:f.lg,className:u.control,children:[l(m.Addon,{children:l(g,{iconName:"fa-solid fa-lock",className:u.icon})}),l(p,{type:E,id:"password","aria-label":"password",placeholder:"password",autoComplete:"off",...j("password")}),l(m.Buttons,{children:l(N,{onClick:()=>L("password"===E?"text":"password"),children:l(g,{iconName:`fa-solid ${R}`,className:u.icon})})})]})}),l("div",{children:c(N,{variant:w.success,size:f.lg,onClick:V,disabled:!F||$,block:!0,children:["Login",$&&l(b,{})]})}),l("div",{className:u.errorMsg,children:l(y,{in:!!z,timeout:300,nodeRef:e,unmountOnExit:!0,classNames:"fade",children:l("span",{ref:e,className:"errorMessage",children:z})})}),l("h5",{className:"text-muted text-center",children:"Don't have an account? "}),l(v,{to:x.register,state:S,children:l(N,{block:!0,variant:w.success,size:f.lg,"data-sb":"submitLogin",children:"Sign up"})})]})]})};e("default",(()=>c(S,{children:[l(k,{children:l("title",{children:"Login"})}),l(a,{})]})))}}}));
