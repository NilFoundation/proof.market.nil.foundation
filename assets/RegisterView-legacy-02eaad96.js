System.register(["./index-legacy-9608b243.js","./AuthCard-legacy-0f9008b9.js"],(function(e,s){"use strict";var a,r,t,i,n,c,l,o,d,u,h,m,f,g,b,p,N,w,y,v,x,R,k,S,C,E,A;return{setters:[e=>{a=e.r,r=e.o,t=e.b7,i=e.aY,n=e.b8,c=e.b9,l=e.aW,o=e.a4,d=e.ba,u=e.p,h=e.v,m=e.b1,f=e.bb,g=e.b2,b=e.aV,p=e.am,N=e.b3,w=e.b4,y=e.aT,v=e.ai,x=e.bc,R=e.bd,k=e.b5,S=e.be,C=e.F,E=e.W},e=>{A=e.A}],execute:function(){const s=()=>{const[e,s]=a.useState(),[C,E]=a.useState(!0),{state:M}=r(),[q,z]=a.useState("password"),L="password"===q?"fa-eye-slash":"fa-eye",W=a.useRef(null),$=a.useRef(null),j=a.useRef(null),B=t(),{handleSubmit:F,watch:G,register:O,formState:{isSubmitting:T,errors:V,isValid:D,dirtyFields:H}}=i({mode:"onChange"}),J=F((async e=>{s("");try{await n(e),c?.create({title:"Registration success",message:`Successfully register new user ${e.user}`,variant:l.success}),B(o.login,{state:M})}catch(a){s(a?.response?.data?.errorMessage??"Register error")}}));a.useEffect((()=>{j.current&&j.current.focus()}),[]);const{ref:P,...U}=O("user",{required:!0,minLength:3,maxLength:30}),Y=a.useMemo((()=>!!H.user),[H.user]),I=a.useMemo((()=>!!H.passwd),[H.passwd]),K=a.useRef(d((async e=>{if(e)try{await S(e),E(!1)}catch(s){404===s?.response?.status&&E(!0)}}),180)).current,Q=G("user");return a.useEffect((()=>{K(Q)}),[Q,K]),u(A,{children:h(m,{className:f.form,children:[h("div",{children:[u("h4",{className:f.title,children:"Welcome to Proof Market!"}),u("div",{className:`${f.heading} text-muted`,children:"Create new account"}),h(m.Group,{hasError:!!V.user||!C,children:[h(g,{size:b.lg,className:f.control,children:[u(g.Addon,{children:u(p,{iconName:"fa-solid fa-user",className:f.icon})}),u(N,{type:"text",id:"userName",placeholder:"username","aria-label":"username",ref:e=>{P(e),j.current=e},...U})]}),!C&&u(m.Hint,{children:"Username should be unique"})]}),u(w,{classNames:"fade",timeout:300,in:Y,unmountOnExit:!0,nodeRef:W,children:u("div",{ref:W,children:u(m.Group,{hasError:!!V.passwd,children:h(g,{size:b.lg,className:f.control,children:[u(g.Addon,{children:u(p,{iconName:"fa-solid fa-lock",className:f.icon})}),u(N,{type:q,id:"password",placeholder:"password","aria-label":"password",autoComplete:"off",...O("passwd",{required:!0,maxLength:30})}),u(g.Buttons,{children:u(y,{onClick:()=>z("password"===q?"text":"password"),children:u(p,{iconName:`fa-solid ${L}`,className:f.icon})})})]})})})}),u(w,{classNames:"fade",timeout:300,in:I,unmountOnExit:!0,nodeRef:$,children:u("div",{ref:$,children:h(y,{block:!0,variant:l.success,size:b.lg,disabled:T||!D||!C,onClick:J,children:["Register",T&&u(v,{})]})})}),e&&u("div",{className:"errorMessage",children:e})]}),h("div",{className:f.bottomBlock,children:[h("div",{className:f.social,children:[u("h5",{className:f.title,children:"Join our Discord's proof-market channel/Telegram for questions/to stay updated"}),u(x,{socialLinks:R})]}),u("h5",{className:"text-center text-muted",children:"Already have an account? "}),u(k,{to:o.login,state:M,children:u(y,{block:!0,variant:l.success,size:b.lg,children:"Sign in"})})]})]})})};e("default",(()=>h(C,{children:[u(E,{children:u("title",{children:"Register"})}),u(s,{})]})))}}}));
